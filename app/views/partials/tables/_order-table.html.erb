<div class="card mb-3">

  <div class="card-header">

      <!-- Table Icon -->
      <i class="fa fa-table"></i>

      <!-- Table Name -->
      Order Table

      <!-- Add, Remove, Update Buttons -->
      <div class="btn-right">

        <button class="btn btn-outline-primary"
                type="button"
                data-toggle="modal"
                data-target="#add-order-modal">
                Add New Order
        </button>

      </div>

  </div>

  <div class="card-body">

    <div class="table-responsive">

        <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">

          <!-- Top Column Names -->
          <thead>

            <tr>

              <th>Disable</th>
              <th>Edit</th>
              <th>Vendor</th>
              <th>Company</th>
              <th>Customer</th>
              <th>Employee</th>
              <th>Status</th>
              <th>Ordered</th>
              <th>Order Line</th>
              <th>Payment Type</th>
              <th>Purchase Order No.</th>
              <th>Total</th>

            </tr>

          </thead>

          <!-- Bottom Column Names -->
          <tfoot>

            <tr>

              <th>Disable</th>
              <th>Edit</th>
              <th>Vendor</th>
              <th>Company</th>
              <th>Customer</th>
              <th>Employee</th>
              <th>Status</th>
              <th>Ordered</th>
              <th>Order Line</th>
              <th>Payment Type</th>
              <th>Purchase Order No.</th>
              <th>Total</th>

            </tr>

          </tfoot>

          <!-- Content -->
          <tbody>

            <!-- Load order data -->
              <% @orders.each do |order| %>

                <% if !order.deleted_at %>

                  <tr>

                    <!-- Columns to pull from order data -->
                    <td>
                      <%= button_to 'Disable',
                          toggle_order_path(order.id),
                          :method => :put,
                          :class => 'btn btn-outline-danger',
                          :data => {
                            :confirm => "Are you sure that you want to disable the order #" +
                                         order.purchase_order_number.to_s + "?" } %></td>
                    <td>
                      <%= button_to 'Edit',
                          edit_order_path(order.id),
                          :method => :get,
                          :class => 'btn btn-outline-success' %></td>
                    <td><%= order.vendor.vendor_name %></td>
                    <td><%= order.customer.company_name %></td>
                    <td><%= order.customer.customer_last_name %></td>
                    <td><%= order.employee.lname %></td>
                    <td><%= order.order_status.order_status_description %></td>
                    <td><%= order.order_date %></td>
                    <td><%= order.order_line.item_number %></td>
                    <td><%= order.payment_type.payment_type_description %></td>
                    <td><%= order.purchase_order_number %></td>
                    <td><%= order.order_total %></td>

                  </tr>

                <% end %>

              <% end %>

          </tbody>

        </table>

    </div>

  </div>

  <!-- Footnote: Lastest date a order was created -->
  <div class="card-footer small text-muted">



  </div>

</div>

<!-- Add Customer Modal-->
<%= render partial: 'partials/modals/add-order-modal' %>
