<!--toggle buttons-->

<section class="row">

  <div class="mb-2 mx-auto btn-group">

    <a class="show-all-col btn btn-primary btn-sm"
       type="button"
       data-toggle="button"
       aria-pressed="false"
       autocomplete="off"
       href="">Show All Columns</a>

    <a class="hide-all-col btn btn-primary btn-sm"
       type="button"
       data-toggle="button"
       aria-pressed="false"
       autocomplete="off"
       href="">Hide All Columns</a>


  </div>

</section>

<section class="row">

  <div class="mb-2 mx-auto">

    <a class="toggle-vis btn btn-primary btn-sm mb-1"
       type="button"
       data-toggle="button"
       aria-pressed="false"
       autocomplete="off"
       data-column="0"
       href="">Vendor</a>

    <a class="toggle-vis btn btn-primary btn-sm mb-1"
       type="button"
       data-toggle="button"
       aria-pressed="false"
       autocomplete="off"
       data-column="1"
       href="">Company</a>

    <a class="toggle-vis btn btn-primary btn-sm mb-1"
       type="button"
       data-toggle="button"
       aria-pressed="false"
       autocomplete="off"
       data-column="2"
       href="">Status</a>

    <a class="toggle-vis btn btn-primary btn-sm mb-1"
       type="button"
       data-toggle="button"
       aria-pressed="false"
       autocomplete="off"
       data-column="3"
       href="">Shipped</a>

    <a class="toggle-vis btn btn-primary btn-sm mb-1"
       type="button"
       data-toggle="button"
       aria-pressed="false"
       autocomplete="off"
       data-column="4"
       href="">Shipper</a>

    <a class="toggle-vis btn btn-primary btn-sm mb-1"
       type="button"
       data-toggle="button"
       aria-pressed="false"
       autocomplete="off"
       data-column="5"
       href="">Shipping No.</a>

    <a class="toggle-vis btn btn-primary btn-sm mb-1"
       type="button"
       data-toggle="button"
       aria-pressed="false"
       autocomplete="off"
       data-column="6"
       href="">Country</a>

    <a class="toggle-vis btn btn-primary btn-sm mb-1"
       type="button"
       data-toggle="button"
       aria-pressed="false"
       autocomplete="off"
       data-column="7"
       href="">State</a>

    <a class="toggle-vis btn btn-primary btn-sm mb-1"
       type="button"
       data-toggle="button"
       aria-pressed="false"
       autocomplete="off"
       data-column="8"
       href="">Addr. 1</a>

    <a class="toggle-vis btn btn-primary btn-sm mb-1"
       type="button"
       data-toggle="button"
       aria-pressed="false"
       autocomplete="off"
       data-column="9"
       href="">Addr. 2</a>

    <a class="toggle-vis btn btn-primary btn-sm mb-1"
       type="button"
       data-toggle="button"
       aria-pressed="false"
       autocomplete="off"
       data-column="10"
       href="">City</a>

    <a class="toggle-vis btn btn-primary btn-sm mb-1"
       type="button"
       data-toggle="button"
       aria-pressed="false"
       autocomplete="off"
       data-column="11"
       href="">Zip</a>



  </div>

</section>



<div class="card mb-3">

  <div class="card-header">

      <!-- Table Icon -->
      <i class="fa fa-table"></i>

      <!-- Table Name -->
      Shipping Table

  </div>

  <div class="card-body">

    <div class="table-responsive">

        <table class="table table-bordered" id="shippingtable" width="100%" cellspacing="0">

          <!-- Top Column Names -->
          <thead>

            <tr>

              <th class="text-center">Vendor</th>
              <th class="text-center">Company</th>
              <th class="text-center">Status</th>
              <th class="text-center">Shipped</th>
              <th class="text-center">Shipper</th>
              <th class="text-center">Shipping No.</th>
              <th class="text-center">Country</th>
              <th class="text-center">State</th>
              <th class="text-center">Addr. 1</th>
              <th class="text-center">Addr. 2</th>
              <th class="text-center">City</th>
              <th class="text-center">Zip</th>

            </tr>

          </thead>

          <!-- Bottom Column Names -->
          <tfoot>

            <tr>

              <th class="text-center">Vendor</th>
              <th class="text-center">Company</th>
              <th class="text-center">Status</th>
              <th class="text-center">Shipped</th>
              <th class="text-center">Shipper</th>
              <th class="text-center">Shipping No.</th>
              <th class="text-center">Country</th>
              <th class="text-center">State</th>
              <th class="text-center">Addr. 1</th>
              <th class="text-center">Addr. 2</th>
              <th class="text-center">City</th>
              <th class="text-center">Zip</th>

            </tr>

          </tfoot>

          <!-- Content -->
          <tbody>

            <!-- Load order data -->
              <% @orders.each do |order| %>

                <tr>

                  <!-- Columns to pull from order data -->
                  <td class="text-center"><%= order.vendor.vendor_name %></td>
                  <td class="text-center"><%= order.customer.company_name %></td>
                  <td class="text-center"><%= order.order_status.order_status_description %></td>
                  <td class="text-center"><%= order.ship_date %></td>
                  <td class="text-center"><%= order.shipper.shipper_description %></td>
                  <td class="text-center"><%= order.shipping_number %></td>
                  <td class="text-center"><%= order.country.country_name %></td>
                  <td class="text-center"><%= order.state.state_name %></td>
                  <td class="text-center"><%= order.street_address_1 %></td>
                  <td class="text-center"><%= order.street_address_2 %></td>
                  <td class="text-center"><%= order.city %></td>
                  <td class="text-center"><%= order.zip_code %></td>

                </tr>

              <% end %>

          </tbody>

        </table>

    </div>

  </div>

  <!-- Footnote: Lastest date a order was created -->
  <div class="card-footer small text-muted">



  </div>



</div>


<script>
    $(document).ready(function() {
        var table = $('#shippingtable').DataTable( {
            "paging": true
        } );

        $('a.toggle-vis').on( 'click', function (e) {

            // Get the column API object
            var column = table.column( $(this).attr('data-column') );

            // Toggle the visibility
            column.visible( ! column.visible() );
        } );

        $('a.show-all-col').on( 'click', function (e) {

            table.columns( [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11] ).visible( true, false );
            table.columns.adjust().draw( false ); // adjust column sizing and redraw

        } );

        $('a.hide-all-col').on( 'click', function (e) {

            table.columns( [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 ] ).visible( false, false );
            table.columns.adjust().draw( false ); // adjust column sizing and redraw

        } );


    } );
</script>