<div class="content-wrapper">
  <div class="container-fluid">

    <!-- Breadcrumbs -->
    <%= render partial: 'partials/breadcrumbs' %>

    <div class="row">
      <div class="col-md-4">
        <!-- Order Status-->
        <div class="card mb-3">
          <div class="card-header">
            <i class="fa fa-pie-chart"></i>
            Order Status</div>
          <div class="card-body">
            <%= pie_chart Order.joins(:order_status).group(:order_status_description).count,
                          colors: ["red", "green"],
                          donut: true, legend: "bottom", download: "customer_pie_chart",
                          library: { animation: { easing: 'easeInCirc' }}%>
          </div>
          <div class="card-footer small text-muted"></div>
        </div>
      </div>

      <div class="col-md-4">
        <!-- Vendor Status-->
        <div class="card mb-3">
          <div class="card-header">
            <i class="fa fa-pie-chart"></i>
            Vendor Status</div>
          <div class="card-body">
            <%= pie_chart Vendor.joins(:vendor_status).group(:vendor_status_type).count,
                          donut: true, legend: "bottom", download: "customer_pie_chart",
                          library: { animation: { easing: 'easeInCirc' }}%>
          </div>
          <div class="card-footer small text-muted"></div>
        </div>
      </div>

      <div class="col-md-4">
        <!-- Carrier use-->
        <div class="card mb-3">
          <div class="card-header">
            <i class="fa fa-pie-chart"></i>
            Carrier Use</div>
          <div class="card-body">
            <%= pie_chart Order.joins(:shipper).group(:shipper_description).count,
                          donut: true, legend: "bottom", download: "customer_pie_chart",
                          library: { animation: { easing: 'easeInCirc' }}%>
          </div>
          <div class="card-footer small text-muted"></div>
        </div>
      </div>
    </div>

    <!-- Order Totals by Company -->
    <div class="card mb-3">
      <div class="card-header">
        <i class="fa fa-bar-chart"></i>
        Order Totals by Company</div>
      <div class="card-body">
        <%= column_chart Order.joins(:order_line, :customer).group(:order_total, :company_name).order("order_total desc").limit("10").sum(:order_total), prefix: "$",
                                 xtitle: "Company Name", ytitle: "Order Totals", download: "companytotals_column_chart",
                                 library: { animation: { easing: 'easeInQuad' }}%>
      </div>
      <div class="card-footer small text-muted"></div>
    </div>

    <div class="row">
      <div class="col-md-4">
        <!-- Customers by City -->
        <div class="card mb-3">
          <div class="card-header">
            <i class="fa fa-pie-chart"></i>
            Customers by State (West Coast)</div>
          <div class="card-body">
            <%= pie_chart Customer.joins(:state).group(:state_name).where("state_id <= ?", 13).count,
                          donut: true, legend: "bottom", download: "customer_pie_chart",
                          library: { animation: { easing: 'easeInCirc' }}%>
          </div>
          <div class="card-footer small text-muted"></div>
        </div>
      </div>

      <div class="col-md-4">
        <!-- Customers by City -->
        <div class="card mb-3">
          <div class="card-header">
            <i class="fa fa-pie-chart"></i>
            Customers by State (Central)</div>
          <div class="card-body">
            <%= pie_chart Customer.joins(:state).group(:state_name).where("state_id >= ? and state_id <= ?", 14, 34).count,
                          donut: true, legend: "bottom", download: "customer_pie_chart",
                          library: { animation: { easing: 'easeInCirc' }}%>
          </div>
          <div class="card-footer small text-muted"></div>
        </div>
      </div>

      <div class="col-md-4">
        <!-- Customers by City -->
        <div class="card mb-3">
          <div class="card-header">
            <i class="fa fa-pie-chart"></i>
            Customers by State (East Coast)</div>
          <div class="card-body">
            <%= pie_chart Customer.joins(:state).group(:state_name).where("state_id >= ?", 35).count,
                          donut: true, legend: "bottom", download: "customer_pie_chart",
                          library: { animation: { easing: 'easeInCirc' }}%>
          </div>
          <div class="card-footer small text-muted"></div>
        </div>
      </div>


    </div>

    <!-- Vendors by State -->
    <div class="card mb-3">
      <div class="card-header">
        <i class="fa fa-bar-chart"></i>
        Vendors by State</div>
      <div class="card-body">
        <%= bar_chart Vendor.joins(:state).group(:state_name).count,
                      colors: ["pink", "#999"], xtitle: "Amount", ytitle: "State", download: "vendor_bar_chart",
                      library: { animation: { easing: 'easeInCirc' }}%>
      </div>
      <div class="card-footer small text-muted"></div>
    </div>

  </div>
</div>
